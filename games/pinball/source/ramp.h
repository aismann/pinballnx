#ifndef RAMP_H_
#define RAMP_H_

#include<vector>
#include "cross2d/c2d.h"
#include "Box2D/Box2D.h"
#include "util.h"

using namespace std;

// The ramp class has a box2d body and fixture but they are only for detection purposes.
// The fixture in here is a box2d sensor and doesn't cause any forces. 
// The collision detection is handled in the Table class in the overriden
// BeginContact and EndContact methods from the b2ContactListener that Table extends.
// Creating a bidirectional ramp actually takes 2 Ramp objects, one for up and one for down
// because this class only transitions the pinball TO another layer. 
// This means you can also use this class to make holes that the ball can fall through but can't go up.
class Ramp {
    public:
        // C2DRenderer is only for debug graphics, can be removed if desired.
        // b2World is necessary for adding the sensor.
        // rampID specifies the collision shape to load.
        // layerID specifies the layer that the ramp transitions to.
        Ramp(C2DRenderer* renderer, b2World& world, int rampID, int fromLayer, int toLayer);
        b2Fixture* getFixture();
        int getLayerID();
    private:
        b2Fixture* m_fixture;
        int m_layerID;
        vector<float> m_ramp1 = {857.2, 74.3, 854.0, 77.6, 854.0, 79.1, 854.0, 80.7, 860.3, 90.4, 866.5, 100.1, 871.6, 107.3, 876.6, 114.5, 878.9, 114.8, 881.2, 115.2, 883.3, 113.3, 885.5, 111.3, 893.0, 106.8, 900.5, 102.3, 903.9, 101.1, 907.3, 100.0, 930.4, 100.0, 953.6, 100.0, 954.8, 98.8, 956.0, 97.6, 956.0, 95.5, 956.0, 93.4, 954.8, 92.2, 953.6, 91.0, 918.0, 91.0, 882.4, 91.0, 881.2, 89.8, 880.0, 88.6, 880.0, 86.5, 880.0, 84.4, 881.2, 83.2, 882.4, 82.0, 917.5, 82.0, 952.7, 82.0, 954.3, 80.2, 956.0, 78.3, 956.0, 76.2, 956.0, 74.1, 953.8, 72.6, 951.6, 71.0, 906.0, 71.0, 860.4, 71.0, 857.2, 74.3};
        vector<float> m_ramp1up2 = {978.3, 79.1, 977.0, 80.4, 977.0, 81.6, 977.0, 82.7, 974.5, 86.4, 972.0, 90.1, 972.0, 94.9, 972.0, 99.8, 973.3, 100.7, 974.5, 101.7, 978.5, 103.0, 982.5, 104.3, 991.0, 108.2, 999.5, 112.2, 1002.7, 114.6, 1005.9, 117.0, 1016.0, 122.7, 1025.1, 128.4, 1027.0, 131.4, 1028.9, 134.5, 1037.4, 142.7, 1045.8, 151.0, 1047.7, 151.0, 1049.5, 151.0, 1058.3, 143.4, 1067.0, 135.8, 1067.0, 133.9, 1067.0, 131.9, 1061.1, 125.7, 1055.2, 119.5, 1048.9, 112.7, 1042.5, 105.8, 1036.5, 101.3, 1030.5, 96.7, 1022.3, 92.9, 1014.1, 89.0, 1006.0, 86.0, 998.0, 83.1, 993.3, 80.9, 988.5, 78.7, 984.0, 78.3, 979.5, 77.8, 978.3, 79.1};
        vector<float> m_ramp1Down = {795.5, 102.0, 752.5, 125.0, 751.6, 126.9, 750.7, 128.9, 755.1, 136.6, 759.5, 144.2, 763.5, 143.8, 767.5, 143.3, 772.0, 140.3, 776.5, 137.3, 783.5, 133.0, 790.5, 128.7, 795.5, 125.5, 800.5, 122.4, 802.5, 121.2, 804.5, 120.1, 812.0, 115.4, 819.5, 110.7, 823.0, 108.8, 826.4, 107.0, 829.8, 107.0, 833.1, 107.0, 835.5, 109.5, 838.0, 111.9, 838.0, 115.5, 838.0, 119.1, 835.6, 121.3, 833.2, 123.5, 826.6, 127.5, 819.9, 131.5, 814.2, 135.2, 808.5, 139.0, 802.8, 141.9, 798.5, 144.7, 791.5, 149.1, 784.5, 153.4, 778.8, 156.9, 773.1, 160.5, 773.1, 163.3, 773.0, 166.1, 775.6, 170.5, 778.1, 174.9, 780.0, 175.5, 781.9, 176.1, 784.2, 174.9, 786.5, 173.7, 825.5, 150.7, 864.5, 127.7, 865.8, 126.2, 867.0, 124.6, 867.0, 123.5, 867.0, 122.3, 855.4, 101.9, 843.7, 81.5, 842.2, 80.2, 840.6, 79.0, 839.6, 79.0, 838.5, 79.0, 795.5, 102.0};
        vector<float> m_ramp2 = {957.5, 622.6, 950.5, 625.1, 944.0, 626.2, 937.5, 627.3, 927.0, 627.9, 916.5, 628.5, 916.2, 647.4, 916.0, 666.4, 916.9, 667.3, 917.8, 668.2, 933.7, 667.1, 949.5, 665.9, 954.5, 664.9, 959.5, 663.8, 962.2, 662.4, 964.8, 661.0, 967.2, 661.0, 969.5, 661.0, 973.2, 660.0, 976.9, 658.9, 979.0, 655.9, 981.2, 653.0, 973.0, 636.5, 964.9, 620.0, 957.5, 622.6};
        vector<float> m_ramp2up2 = {988.0, 603.6, 975.5, 612.1, 974.0, 613.0, 972.5, 613.9, 976.8, 622.2, 981.1, 630.5, 987.3, 641.7, 993.5, 653.0, 1004.9, 647.9, 1014.5, 642.8, 1023.8, 637.3, 1033.0, 631.8, 1030.3, 627.1, 1027.6, 623.5, 1018.7, 613.5, 1009.7, 603.5, 1005.2, 599.2, 1000.6, 595.0, 988.0, 603.6};
        vector<float> m_ramp2Down = {1026.5, 573.9, 1021.7, 580.7, 1014.7, 585.6, 1007.8, 590.5, 1006.7, 591.2, 1005.7, 591.8, 1017.1, 604.2, 1028.5, 616.5, 1032.4, 621.5, 1036.4, 626.5, 1037.1, 627.4, 1037.9, 628.3, 1042.2, 625.7, 1046.5, 623.2, 1057.3, 611.7, 1068.0, 600.2, 1068.0, 598.8, 1068.0, 597.5, 1059.2, 588.9, 1050.5, 580.3, 1045.1, 577.4, 1039.8, 574.6, 1035.5, 570.8, 1031.3, 567.1, 1026.5, 573.9};
        vector<float> m_hole1 = {235.0, 65.0, 235.0, 84.0, 262.0, 84.0, 289.0, 84.0, 289.0, 65.0, 289.0, 46.0, 262.0, 46.0, 235.0, 46.0, 235.0, 65.0};
        vector<float> m_hole2 = {197.5, 600.2, 196.8, 609.5, 197.2, 615.0, 197.5, 620.5, 227.3, 620.8, 257.0, 621.0, 257.0, 606.0, 257.0, 591.0, 227.6, 591.0, 198.2, 591.0, 197.5, 600.2};
        vector<float> m_ramp3 = {734.0, 543.6, 714.0, 562.2, 714.0, 565.6, 714.0, 569.0, 724.8, 579.5, 735.5, 590.0, 738.8, 590.0, 742.1, 590.0, 745.0, 588.5, 748.0, 586.9, 748.0, 584.6, 748.0, 582.2, 749.6, 580.9, 751.2, 579.6, 753.0, 578.5, 754.9, 577.5, 764.5, 569.5, 774.2, 561.5, 777.5, 559.0, 780.8, 556.5, 782.5, 553.1, 784.1, 549.7, 779.3, 544.6, 774.5, 539.5, 767.5, 532.2, 760.6, 525.0, 757.3, 525.0, 754.0, 525.0, 734.0, 543.6};
        vector<float> m_ramp3Down = {708.5, 497.6, 702.5, 503.2, 695.5, 508.7, 688.5, 514.3, 684.8, 517.9, 681.0, 521.4, 681.0, 524.3, 681.0, 527.1, 694.6, 541.8, 708.3, 556.5, 711.5, 556.5, 714.8, 556.5, 731.9, 540.2, 749.0, 523.8, 749.0, 520.5, 749.0, 517.2, 735.6, 504.6, 722.2, 492.0, 718.4, 492.0, 714.5, 492.1, 708.5, 497.6};
        vector<float> m_ramp3up2 = {765.7, 575.1, 741.0, 593.2, 741.0, 595.0, 741.0, 596.9, 743.0, 600.5, 745.0, 604.1, 745.0, 605.2, 745.0, 606.3, 747.5, 609.6, 750.0, 612.9, 751.8, 616.3, 753.5, 617.8, 765.0, 618.5, 776.5, 619.2, 791.0, 616.5, 805.5, 613.9, 811.5, 610.6, 817.5, 607.4, 820.0, 605.9, 822.5, 604.5, 824.8, 602.6, 827.0, 600.7, 827.0, 597.7, 827.0, 594.7, 816.2, 583.1, 805.3, 571.5, 804.0, 569.0, 802.7, 566.5, 798.7, 561.7, 794.7, 557.0, 792.6, 557.0, 790.5, 557.0, 765.7, 575.1};
        vector<float> m_ramp1DownMid = {805.8, 408.1, 802.0, 411.2, 802.0, 413.6, 802.0, 415.9, 806.6, 419.5, 811.3, 423.0, 828.5, 423.0, 845.7, 423.0, 848.8, 419.1, 852.0, 415.1, 852.0, 413.3, 852.0, 411.5, 850.0, 408.2, 848.0, 405.0, 828.8, 405.0, 809.5, 405.1, 805.8, 408.1};
        vector<float> m_backdoorDown = {1102.7, 406.8, 1101.0, 408.7, 1100.5, 423.6, 1099.9, 438.5, 1098.9, 477.0, 1098.0, 515.5, 1096.5, 524.0, 1095.0, 532.5, 1095.0, 535.4, 1095.0, 538.3, 1090.9, 551.4, 1086.9, 564.5, 1083.8, 573.0, 1080.7, 581.5, 1074.7, 590.5, 1068.7, 599.5, 1064.7, 605.0, 1060.7, 610.5, 1048.6, 622.6, 1036.5, 634.7, 1028.0, 640.2, 1019.5, 645.8, 999.5, 655.3, 979.5, 664.7, 974.0, 666.3, 968.5, 667.9, 956.8, 669.9, 945.1, 672.0, 709.0, 672.0, 472.9, 672.0, 472.4, 673.4, 471.8, 674.8, 474.4, 688.5, 477.0, 702.1, 477.5, 703.1, 478.1, 704.0, 728.3, 704.0, 978.5, 704.0, 987.0, 702.5, 995.4, 701.0, 1000.5, 699.4, 1005.5, 697.7, 1023.5, 688.8, 1041.5, 679.9, 1045.0, 677.8, 1048.5, 675.7, 1058.9, 669.2, 1069.2, 662.7, 1075.0, 657.3, 1080.9, 651.9, 1089.6, 640.7, 1098.3, 629.5, 1101.0, 627.0, 1103.8, 624.5, 1109.3, 615.2, 1114.8, 606.0, 1117.5, 598.7, 1120.3, 591.5, 1121.6, 588.5, 1122.9, 585.5, 1125.4, 578.0, 1127.8, 570.5, 1129.9, 563.5, 1132.0, 556.5, 1133.5, 547.5, 1135.0, 538.5, 1136.5, 525.2, 1138.0, 511.8, 1138.0, 460.6, 1138.0, 409.3, 1135.9, 407.4, 1133.8, 405.5, 1119.1, 405.2, 1104.4, 404.9, 1102.7, 406.8};
        vector<float> m_tunnelDown = {677.5, 12.3, 676.9, 13.6, 677.2, 29.0, 677.5, 44.5, 683.0, 44.8, 688.5, 45.1, 701.5, 39.1, 714.5, 33.1, 714.5, 22.3, 714.5, 11.5, 696.2, 11.2, 678.0, 11.0, 677.5, 12.3};
        vector<float> m_newballEntrance1 = {634.0, 561.6, 632.7, 563.1, 639.5, 588.8, 646.3, 614.5, 647.8, 616.2, 649.3, 618.0, 664.5, 618.0, 679.8, 618.0, 681.1, 616.4, 682.3, 614.9, 676.2, 588.8, 670.0, 562.7, 668.9, 561.4, 667.8, 560.0, 651.5, 560.0, 635.2, 560.0, 634.0, 561.6};
        vector<float> m_newballEntrance2 = {723.0, 238.0, 721.0, 240.0, 721.0, 242.1, 721.0, 244.2, 726.7, 253.9, 732.3, 263.5, 735.4, 268.5, 738.5, 273.4, 740.1, 276.5, 741.7, 279.5, 744.2, 280.9, 746.6, 282.3, 749.4, 281.6, 752.1, 280.9, 753.2, 278.5, 754.3, 276.1, 753.7, 273.8, 753.1, 271.5, 746.4, 260.5, 739.8, 249.5, 736.3, 243.8, 732.9, 238.0, 731.0, 237.0, 729.1, 236.0, 727.1, 236.0, 725.0, 236.0, 723.0, 238.0};
        vector<float> m_newballEntrance3 = {1063.2, 23.3, 1061.0, 25.6, 1061.0, 27.6, 1061.0, 29.7, 1063.3, 31.8, 1065.6, 34.0, 1074.6, 34.0, 1083.7, 34.0, 1085.8, 31.7, 1088.0, 29.4, 1088.0, 27.4, 1088.0, 25.3, 1085.7, 23.2, 1083.4, 21.0, 1074.4, 21.0, 1065.3, 21.0, 1063.2, 23.3};
        // Access this vector by index of rampID to get the collision shape for that ramp
        vector<vector<float>> m_rampShapes = {
            m_ramp1, m_ramp1up2, m_ramp1Down, m_hole1, m_ramp2, m_ramp2up2, m_ramp2Down, m_hole2, m_ramp3, m_ramp3Down, m_ramp3up2, m_ramp1DownMid, m_backdoorDown, m_tunnelDown, m_newballEntrance1, m_newballEntrance2, m_newballEntrance3
        };
};

#endif