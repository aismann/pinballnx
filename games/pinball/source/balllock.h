#ifndef BALLLOCK_H_
#define BALLLOCK_H_

#include <vector>
#include "cross2d/c2d.h"
#include "Box2D/Box2D.h"
#include "util.h"

using namespace std;

class BallLock {
    public:
        BallLock(C2DRenderer* renderer, b2World& world, int layerID, int shapeID, int releaseLocation, int releaseLocation2 = -1);
        b2Fixture* getFixture();
        void trigger();
        int getLocation();
        void resetLocation();
    private:
        int m_layerID;
        int m_releaseLocation;
        int m_releaseLocation2;
        int m_defaultLocation;
        b2Fixture* m_fixture;
        vector<float> m_upperLock = {843.5, 532.5, 835.8, 540.9, 834.4, 543.6, 833.0, 546.2, 833.0, 548.1, 833.0, 549.9, 850.2, 564.0, 867.4, 578.0, 869.5, 578.0, 871.5, 578.0, 881.8, 567.7, 892.0, 557.5, 892.0, 555.2, 892.0, 553.0, 873.8, 538.5, 855.5, 524.0, 853.3, 524.0, 851.2, 524.0, 843.5, 532.5};
        vector<float> m_leftLock = {1086.2, 23.2, 1085.0, 24.4, 1085.0, 27.5, 1085.0, 30.6, 1086.2, 31.8, 1087.4, 33.0, 1090.5, 33.0, 1093.6, 33.0, 1094.8, 31.8, 1096.0, 30.6, 1096.0, 27.5, 1096.0, 24.4, 1094.8, 23.2, 1093.6, 22.0, 1090.5, 22.0, 1087.4, 22.0, 1086.2, 23.2};
        vector<float> m_middleLock = {772.5, 364.9, 770.5, 365.8, 768.0, 368.5, 765.5, 371.2, 765.5, 376.6, 765.5, 382.0, 768.7, 385.1, 771.9, 388.3, 777.4, 388.8, 782.9, 389.2, 785.9, 385.9, 788.9, 382.6, 789.6, 379.7, 790.2, 376.8, 789.6, 373.6, 789.0, 370.4, 786.1, 367.6, 783.2, 364.8, 778.8, 364.4, 774.5, 364.0, 772.5, 364.9};
        vector<float> m_upperMiddleLock = {787.0, 402.4, 787.0, 415.0, 790.1, 415.0, 793.1, 415.0, 796.0, 411.8, 798.9, 408.6, 799.6, 405.7, 800.2, 402.8, 799.6, 399.6, 799.0, 396.4, 796.2, 393.7, 793.4, 391.0, 790.2, 390.4, 787.0, 389.7, 787.0, 402.4};
        vector<float> m_lowerLock1 = {186.4, 454.4, 185.8, 455.9, 186.2, 457.7, 186.5, 459.5, 206.5, 459.5, 226.5, 459.5, 226.5, 456.5, 226.5, 453.5, 206.7, 453.2, 187.0, 453.0, 186.4, 454.4};
        vector<float> m_lowerLock2 = {386.0, 499.0, 386.0, 518.0, 397.5, 518.0, 409.0, 518.0, 409.0, 499.0, 409.0, 480.0, 397.5, 480.0, 386.0, 480.0, 386.0, 499.0};
        vector<float> m_railLock1 = {805.5, 433.5, 803.0, 435.9, 803.0, 439.5, 803.0, 443.1, 805.5, 445.5, 807.9, 448.0, 811.5, 448.0, 815.1, 448.0, 817.5, 445.5, 820.0, 443.1, 820.0, 439.5, 820.0, 435.9, 817.5, 433.5, 815.1, 431.0, 811.5, 431.0, 807.9, 431.0, 805.5, 433.5};
        vector<vector<float>> m_points = {
            m_upperLock, m_leftLock, m_middleLock, m_upperMiddleLock, m_lowerLock1, m_lowerLock2, m_railLock1
        };
};

#endif